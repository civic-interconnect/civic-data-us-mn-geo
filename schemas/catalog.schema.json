{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "catalog.schema.json",
  "title": "Civic Data Boundaries Catalog",
  "description": "Defines the structure of the top-level catalog file listing all U.S. state and territory boundary repositories.",
  "type": "object",
  "properties": {
    "version": {
      "type": "string",
      "description": "Semantic version of the catalog (e.g., '1.0.0').",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "country": {
      "type": "string",
      "description": "Two-letter lowercase ISO 3166-1 alpha-2 country code (e.g., 'us').",
      "pattern": "^[a-z]{2}$"
    },
    "states": {
      "type": "array",
      "description": "List of state or territory catalog entries conforming to catalog-entry.schema.json.",
      "minItems": 1,
      "items": {
        "$ref": "catalog-entry.schema.json"
      }
    }
  },
  "required": ["version", "country", "states"],
  "additionalProperties": false,
  "examples": [
    {
      "version": "1.0.0",
      "country": "us",
      "states": [
        {
          "code": "MN",
          "code_lower": "mn",
          "fips": "27",
          "name": "Minnesota",
          "repo": "civic-data-boundaries-us-mn",
          "repo_url": "https://github.com/civic-interconnect/civic-data-boundaries-us-mn",
          "layers": ["precincts", "counties", "school_districts"],
          "manifest_url": "https://raw.githubusercontent.com/civic-interconnect/civic-data-boundaries-us-mn/main/manifest.json"
        }
      ]
    }
  ]
}
